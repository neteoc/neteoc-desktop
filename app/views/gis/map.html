<div class="container" ng-controller="mapCtrl">
    <div class="leaflet">
        <leaflet width="100%" height="480px" 
            tiles="openStreetMapTiles" markers="mapMarkers" center="mapCenter" />
    </div>

    <div id="everythingElse">
        <button class="btn btn-primary" ng-click="editPoi(null)">
            <span class="glyphicon glyphicon-plus"> New Map Entry</span>
        </button>

        <button class="btn btn-primary" ng-click="saveKml()">
            <span class="glyphicon glyphicon-floppy"> Save</span>
        </button>

        <table datatable="ng" class="row-border hover">
            <thead>
                <th>Name</th>
                <th>Latitude</th>
                <th>Longitude</th>
                <th>Last Updated</th>
                <th>Uploaded</th>
                <th></th>
            </thead>
            <tbody>
                <tr ng-repeat="pin in mapMarkers">
                    <td>{{pin.name}}</td>
                    <td>{{pin.lat}}</td>
                    <td>{{pin.lng}}</td>
                    <td>{{militaryDateFormat(pin.modified)}}</td>
                    <td></td>
                    <td>
                        <button class="btn" ng-click="editPoi(pin)">
                            <span class="glyphicon glyphicon-pencil"> Edit</span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <iframe id="downloadyBit" style="display:none;"></iframe>
    <a id="downloadAnchorElem" style="display:none"></a>
</div>